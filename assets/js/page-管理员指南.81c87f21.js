(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{536:function(e,t,s){"use strict";s.r(t);var a=s(1),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"管理员指南"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#管理员指南"}},[e._v("#")]),e._v(" 管理员指南")]),e._v(" "),s("h2",{attrs:{id:"导入用户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导入用户"}},[e._v("#")]),e._v(" 导入用户")]),e._v(" "),s("p",[e._v("目前仅支持的 csv 格式导入, csv 文件既可以用文本编辑器创建，也可以用 Excel 等软件来辅助创建。")]),e._v(" "),s("p",[e._v("每行三列或四列，分别为: 邮箱，用户名，密码，显示名。（显示名为可选）"),s("br"),e._v("\n请使用 UTF-8 编码，否则中文可能会乱码。")]),e._v(" "),s("div",{staticClass:"language-csv line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("foo@undefined.moe,user1,password1\nbar@undefined.moe,user2,password2,temp\ntest@undefined.moe,user3,passwd3\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("p",[e._v("这将创建三个用户：")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("user1")]),e._v(" 密码为 "),s("code",[e._v("password1")]),e._v(" , 邮箱 "),s("code",[e._v("foo@undefined.moe")]),e._v("；")]),e._v(" "),s("li",[s("code",[e._v("user2")]),e._v(" 密码为 "),s("code",[e._v("password2")]),e._v(" ，邮箱 "),s("code",[e._v("bar@undefined.moe")]),e._v("，显示名为 "),s("code",[e._v("temp")]),e._v("；")]),e._v(" "),s("li",[s("code",[e._v("user3")]),e._v(" 密码为 "),s("code",[e._v("passwd3")]),e._v("，邮箱 "),s("code",[e._v("test@undefined.moe")]),e._v("；")])]),e._v(" "),s("h2",{attrs:{id:"使用内容分发网络-cdn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用内容分发网络-cdn"}},[e._v("#")]),e._v(" 使用内容分发网络(CDN)")]),e._v(" "),s("p",[e._v("只需在控制面版中将 cdn_prefix 设置项修改为 CDN 域名即可。（如 "),s("code",[e._v("https://cdn.undefined.moe/")]),e._v(" ）。")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("Tips")]),e._v(" "),s("p",[e._v("您可以使用 "),s("code",[e._v("https://cdn.jsdelivr.net/npm/@hydrooj/ui-default@[version]/public/")]),e._v(" 作为CDN地址。"),s("br"),e._v("\n（请替换 "),s("code",[e._v("[version]")]),e._v(" 为您本地安装的 "),s("code",[e._v("ui-default")]),e._v(" 插件版本）")])]),e._v(" "),s("h2",{attrs:{id:"数据备份和恢复"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据备份和恢复"}},[e._v("#")]),e._v(" 数据备份和恢复")]),e._v(" "),s("h3",{attrs:{id:"备份"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#备份"}},[e._v("#")]),e._v(" 备份")]),e._v(" "),s("p",[e._v("为了保证数据安全，请定期备份。"),s("br"),e._v("\n可使用 MongoDB 自带的 "),s("a",{attrs:{href:"https://docs.mongodb.com/database-tools/mongodump/",target:"_blank",rel:"noopener noreferrer"}},[e._v("mongodump"),s("OutboundLink")],1),e._v(" 进行数据库备份。并将 "),s("code",[e._v("/data/file")]),e._v(" 文件夹备份即可。"),s("br"),e._v("\n对于数据库，请不要使用复制数据库数据文件的方法。请每次备份后检查生成的备份文件的大小和内容，确保备份成功。"),s("br"),e._v("\n请不要把备份数据和 Hydro 系统放在同一台机器上，这样数据丢失的风险仍然较高。")]),e._v(" "),s("h3",{attrs:{id:"恢复备份"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#恢复备份"}},[e._v("#")]),e._v(" 恢复备份")]),e._v(" "),s("p",[e._v("使用 MongoDB 自带的 "),s("a",{attrs:{href:"https://docs.mongodb.com/database-tools/mongorestore/",target:"_blank",rel:"noopener noreferrer"}},[e._v("mongorestore"),s("OutboundLink")],1),e._v(" 导入备份的数据库文件，并还原 "),s("code",[e._v("/data/file")]),e._v(" 目录文件。"),s("br"),e._v("\n如果只是想不同机器之间迁移部署，只需要在"),s("strong",[e._v("停止 Hydro 和 MongoDB MinIO 服务后")]),e._v("将相关文件夹（通常为 "),s("code",[e._v("/data/db")]),e._v(" 与 "),s("code",[e._v("/data/file")]),e._v("）复制即可。")])])}),[],!1,null,null,null);t.default=r.exports}}]);